{"version":3,"file":"background.js","sources":["webpack://react-chrome-extension/./src/background/background.ts"],"sourcesContent":["const BACKEND_URL = \"http://3.0.100.46:8000/\";\r\nchrome.runtime.onInstalled.addListener((details) => {\r\n    chrome.storage.local.set({\r\n        auth_token: \"\",\r\n    });\r\n    chrome.storage.local.set({\r\n        test: \"\",\r\n    });\r\n    chrome.storage.local.set({\r\n        user: \"\",\r\n    });\r\n    chrome.storage.local.set({\r\n        email: \"\",\r\n    });\r\n    console.log(details);\r\n});\r\nchrome.alarms.create(\"pomodoroTimer\", {\r\n    periodInMinutes: 1 / 60,\r\n});\r\n// chrome.alarms.onAlarm.addListener((alarm) => {\r\n//   chrome.storage.local.get(\"test\", (res) => {\r\n//     console.log(\"test\");\r\n//     console.log(res.test);\r\n//   });\r\n// });\r\nchrome.contextMenus.create({\r\n    title: \"Generate Mindmap\",\r\n    id: \"generateMindmap\",\r\n    contexts: [\"page\", \"selection\"],\r\n});\r\nchrome.contextMenus.onClicked.addListener((event) => {\r\n    chrome.storage.local.get(\"auth_token\", (res) => {\r\n        if (res.auth_token !== \"\") {\r\n            chrome.storage.local.get(\"user\", (res) => {\r\n                let user_id = res.user;\r\n                console.log(event);\r\n                console.log(event.selectionText);\r\n                let selectionText = event.selectionText;\r\n                fetch(BACKEND_URL + \"kge/\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify({\r\n                        user_id: user_id,\r\n                        data: selectionText,\r\n                    }),\r\n                }).then((response) => {\r\n                    if (response.status == 200) {\r\n                        console.log(\"Success:\", response);\r\n                    }\r\n                    console.log(response.status);\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            console.log(\"Please login to generate mindmap\");\r\n        }\r\n    });\r\n});\r\nconsole.log(\"background.js is running\");\r\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A","sourceRoot":""}